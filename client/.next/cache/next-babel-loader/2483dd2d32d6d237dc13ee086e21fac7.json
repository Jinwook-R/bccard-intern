{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { API_BASE_URL } from './config.js';\nimport axios from \"axios\";\n\nfunction call(api, method, data, config) {\n  var headers;\n\n  if (config === 'reviewInsertFile') {\n    headers = new Headers({});\n  } else {\n    headers = new Headers({\n      \"Content-Type\": \"application/json\"\n    });\n  }\n\n  var accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\n\n  if (accessToken && accessToken !== null) {\n    headers.append(\"Authorization\", \"Bearer \" + accessToken);\n  }\n\n  var options = {\n    headers: headers,\n    url: API_BASE_URL + api,\n    method: method\n  };\n\n  if (data && config !== 'reviewInsertFile') {\n    options.body = JSON.stringify(data);\n  } else {\n    options.body = data;\n  }\n\n  return fetch(options.url, options).then(function (response) {\n    return response.json().then(function (json) {\n      if (response.status !== 200) {\n        return Promise.reject(json);\n      }\n\n      return json;\n    });\n  });\n}\n\nexport function loadUserRequest(user) {\n  var api = \"/auth\";\n  console.log('loadUserReqeust', user);\n  return axios.post(api, user);\n}\nexport function logInRequest(user) {\n  var api = \"/auth/login\";\n  return axios.post(api, user);\n}\nexport function signOutRequest() {\n  console.log('signOutRequest');\n  return axios.post('/auth/logout');\n}\nexport function myreviewlist(userId) {\n  console.log('myreviewlist API Called');\n  return call(\"/review/userReview\", \"GET\", userId).then(function (response) {\n    if (response) {\n      console.log(\"response: \", response);\n    }\n\n    return response;\n  });\n}\nexport function signup(user) {\n  return call(\"/auth/signup\", \"POST\", user).then(function (response) {\n    console.log(response.status);\n\n    if (response.status === 200) {\n      alert(\"회원가입이 완료되었습니다:)\");\n    } else {\n      alert(\"회원가입에 실패하였습니다..\");\n    }\n  });\n}\nexport function reviewInsertRequest(_ref) {\n  var review = _ref.review;\n  return axios.post(\"POST\", review);\n}\nexport function reviewFileInsertRequest(file) {\n  console.log('reviewfileInsertRequest: ', file);\n\n  var _iterator = _createForOfIteratorHelper(file.entries()),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var pair = _step.value;\n      console.log(pair[0] + ', ' + pair[1]);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return axios.post(\"/review/insertFile\", file, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}\nexport function restaurantlist() {\n  return call(\"/restaurant/list\", \"GET\").then(function (response) {\n    if (response) {\n      console.log(\"response: \", response);\n    }\n\n    return response;\n  });\n}","map":{"version":3,"sources":["/Users/bccard/Desktop/bccard-intern/client/api/ApiService.js"],"names":["API_BASE_URL","axios","call","api","method","data","config","headers","Headers","accessToken","localStorage","getItem","append","options","url","body","JSON","stringify","fetch","then","response","json","status","Promise","reject","loadUserRequest","user","console","log","post","logInRequest","signOutRequest","myreviewlist","userId","signup","alert","reviewInsertRequest","review","reviewFileInsertRequest","file","entries","pair","restaurantlist"],"mappings":"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","sourcesContent":["import {API_BASE_URL} from './config.js';\nimport axios from \"axios\";\nfunction call(api, method, data, config){\n    let headers;\n\n    if(config === 'reviewInsertFile'){\n        headers = new Headers({});\n    }else{\n        headers = new Headers({\n             \"Content-Type\":\"application/json\",\n         });\n    }\n\n    const accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\n    if(accessToken && accessToken !== null){\n        headers.append(\"Authorization\", \"Bearer \"+ accessToken);\n    }\n\n    const options = {\n        headers,\n        url: API_BASE_URL + api,\n        method,\n    };\n\n    if(data && config !== 'reviewInsertFile'){\n        options.body= JSON.stringify(data);\n    } else {\n        options.body = data;\n    }\n\n    return fetch(options.url, options).then((response) =>\n        response.json().then((json) => {\n            if(response.status !== 200){\n                return Promise.reject(json);\n            }\n            return json;\n        }));\n}\n\nexport function loadUserRequest(user){\n    const api = \"/auth\";\n    console.log('loadUserReqeust', user);\n    return axios.post(api, user);\n}\n\nexport function logInRequest(user) {\n    const api = `/auth/login`;\n    return axios.post(api, user);\n}\n\nexport function signOutRequest() {\n    console.log('signOutRequest');\n    return axios.post('/auth/logout');\n}\n\nexport function myreviewlist(userId) {\n    console.log('myreviewlist API Called');\n    return call(\"/review/userReview\", \"GET\", userId)\n        .then((response) => {\n            if(response) {\n                console.log(\"response: \", response);\n            }\n            return response;\n        });\n}\n\n\nexport function signup(user) {\n    return call(\"/auth/signup\", \"POST\", user)\n        .then((response) => {\n            console.log(response.status)\n            if(response.status === 200) {\n                alert(\"회원가입이 완료되었습니다:)\");\n\n            } else {\n                alert(\"회원가입에 실패하였습니다..\");\n            }\n        });\n}\n\nexport function reviewInsertRequest({review}) {\n    return axios.post(\"POST\", review);\n}\n\nexport function reviewFileInsertRequest(file){\n    console.log('reviewfileInsertRequest: ', file);\n\n    for(const pair of file.entries()) {\n        console.log(pair[0]+ ', '+ pair[1]);\n    }\n\n    return axios.post(\"/review/insertFile\" ,file, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    });\n}\n\nexport function restaurantlist() {\n    return call(\"/restaurant/list\", \"GET\")\n        .then((response) => {\n            if(response) {\n                console.log(\"response: \", response);\n            }\n            return response;\n        });\n}\n\n"]},"metadata":{},"sourceType":"module"}