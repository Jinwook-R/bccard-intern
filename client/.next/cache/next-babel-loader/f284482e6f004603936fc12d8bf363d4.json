{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/bccard/Desktop/bccard-intern/client/pages/reviewRegister.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { ChangeEvent, useCallback, useRef, useState, useEffect } from \"react\";\nimport \"./DragDrop.scss\";\n\nvar DragDrop = function DragDrop() {\n  _s();\n\n  var _useState = useState(false),\n      isDragging = _useState[0],\n      setIsDragging = _useState[1];\n\n  var _useState2 = useState([]),\n      files = _useState2[0],\n      setFiles = _useState2[1];\n\n  var dragRef = useRef(null);\n  var fileId = useRef(0);\n  var onChangeFiles = useCallback(function (e) {\n    var selectFiles = [];\n    var tempFiles = files;\n\n    if (e.type === \"drop\") {\n      selectFiles = e.dataTransfer.files;\n    } else {\n      selectFiles = e.target.files;\n    }\n\n    var _iterator = _createForOfIteratorHelper(selectFiles),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var file = _step.value;\n        tempFiles = [].concat(_toConsumableArray(tempFiles), [{\n          id: fileId.current++,\n          object: file\n        }]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    setFiles(tempFiles);\n  }, [files]);\n  var handleFilterFile = useCallback(function (id) {\n    setFiles(files.filter(function (file) {\n      return file.id !== id;\n    }));\n  }, [files]);\n  var handleDragIn = useCallback(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n  var handleDragOut = useCallback(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  }, []);\n  var handleDragOver = useCallback(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.dataTransfer.files) {\n      setIsDragging(true);\n    }\n  }, []);\n  var handleDrop = useCallback(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    onChangeFiles(e);\n    setIsDragging(false);\n  }, [onChangeFiles]);\n  var initDragEvents = useCallback(function () {\n    if (dragRef.current !== null) {\n      dragRef.current.addEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.addEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.addEventListener(\"dragover\", handleDragOver);\n      dragRef.current.addEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  var resetDragEvents = useCallback(function () {\n    if (dragRef.current !== null) {\n      dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.removeEventListener(\"dragover\", handleDragOver);\n      dragRef.current.removeEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  useEffect(function () {\n    initDragEvents();\n    return function () {\n      return resetDragEvents();\n    };\n  }, [initDragEvents, resetDragEvents]);\n  return __jsx(\"div\", {\n    className: \"DragDrop\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"file\",\n    id: \"fileUpload\",\n    style: {\n      display: \"none\"\n    },\n    multiple: true,\n    onChange: onChangeFiles,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), __jsx(\"label\", {\n    className: isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\",\n    htmlFor: \"fileUpload\",\n    ref: dragRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"\\uD30C\\uC77C \\uCCA8\\uBD80\")), __jsx(\"div\", {\n    className: \"DragDrop-Files\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, files.length > 0 && files.map(function (file) {\n    var id = file.id,\n        name = file.object.name;\n    return __jsx(\"div\", {\n      key: id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, name), __jsx(\"div\", {\n      className: \"DragDrop-Files-Filter\",\n      onClick: function onClick() {\n        return handleFilterFile(id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"X\"));\n  })));\n};\n\n_s(DragDrop, \"HqKHhrrEay8LUEcHFrG4rt3XBrY=\");\n\n_c = DragDrop;\nexport default _c2 = withRouter(ReviewRegister);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DragDrop\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/bccard/Desktop/bccard-intern/client/pages/reviewRegister.js"],"names":["React","ChangeEvent","useCallback","useRef","useState","useEffect","DragDrop","isDragging","setIsDragging","files","setFiles","dragRef","fileId","onChangeFiles","e","selectFiles","tempFiles","type","dataTransfer","target","file","id","current","object","handleFilterFile","filter","handleDragIn","preventDefault","stopPropagation","handleDragOut","handleDragOver","handleDrop","initDragEvents","addEventListener","resetDragEvents","removeEventListener","display","length","map","name","withRouter","ReviewRegister"],"mappings":"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","sourcesContent":["import React, {\n    ChangeEvent,\n    useCallback,\n    useRef,\n    useState,\n    useEffect\n} from \"react\";\nimport \"./DragDrop.scss\";\n\n\nconst DragDrop = () => {\n    const [isDragging, setIsDragging] = useState(false);\n    const [files, setFiles] = useState([]);\n\n    const dragRef = useRef(null);\n    const fileId = useRef(0);\n\n    const onChangeFiles = useCallback(\n        (e) => {\n        let selectFiles = [];\n        let tempFiles = files;\n\n        if (e.type === \"drop\") {\n            selectFiles = e.dataTransfer.files;\n        } else {\n            selectFiles = e.target.files;\n        }\n\n        for (const file of selectFiles) {\n            tempFiles = [\n                ...tempFiles,\n                {\n                    id: fileId.current++,\n                    object: file\n                }\n            ];\n        }\n\n        setFiles(tempFiles);\n    },\n    [files]\n);\n\n    const handleFilterFile = useCallback(\n        (id) => {\n        setFiles(files.filter((file) => file.id !== id));\n    },\n    [files]\n);\n\n    const handleDragIn = useCallback((e)=> {\n        e.preventDefault();\n        e.stopPropagation();\n    }, []);\n\n    const handleDragOut = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        setIsDragging(false);\n    }, []);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (e.dataTransfer.files) {\n            setIsDragging(true);\n        }\n    }, []);\n\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        onChangeFiles(e);\n        setIsDragging(false);\n    },\n    [onChangeFiles]\n);\n\n    const initDragEvents = useCallback(() => {\n        if (dragRef.current !== null) {\n            dragRef.current.addEventListener(\"dragenter\", handleDragIn);\n            dragRef.current.addEventListener(\"dragleave\", handleDragOut);\n            dragRef.current.addEventListener(\"dragover\", handleDragOver);\n            dragRef.current.addEventListener(\"drop\", handleDrop);\n        }\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n\n    const resetDragEvents = useCallback(() => {\n        if (dragRef.current !== null) {\n            dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\n            dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\n            dragRef.current.removeEventListener(\"dragover\", handleDragOver);\n            dragRef.current.removeEventListener(\"drop\", handleDrop);\n        }\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n\n    useEffect(() => {\n        initDragEvents();\n\n        return () => resetDragEvents();\n    }, [initDragEvents, resetDragEvents]);\n\n    return (\n        <div className=\"DragDrop\">\n            <input\n                type=\"file\"\n                id=\"fileUpload\"\n                style={{ display: \"none\" }}\n                multiple={true}\n                onChange={onChangeFiles}\n            />\n\n            <label\n                className={isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\"}\n                htmlFor=\"fileUpload\"\n                ref={dragRef}\n            >\n                <div>파일 첨부</div>\n            </label>\n\n            <div className=\"DragDrop-Files\">\n                {files.length > 0 &&\n                files.map((file) => {\n                    const {\n                        id,\n                        object: { name }\n                    } = file;\n\n                    return (\n                        <div key={id}>\n                            <div>{name}</div>\n                            <div\n                                className=\"DragDrop-Files-Filter\"\n                                onClick={() => handleFilterFile(id)}\n                            >\n                                X\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n\n\nexport default withRouter(ReviewRegister);\n"]},"metadata":{},"sourceType":"module"}