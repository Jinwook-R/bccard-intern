{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _this = this,\n    _jsxFileName = \"/Users/bccard/Desktop/bccard-intern/client/components/MultiMap.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nvar StyledMap = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: block;\\n  position: inherit;\\n  height: 500px; \\n  border: black 2px solid;\\n\"])));\n_c = StyledMap;\nvar StyledInfo = styled.span(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: block;\\n  background: #50627F;\\n  color: #fff;\\n  text-align: center;\\n  height: 24px;\\n  line-height:22px;\\n  border-radius:4px;\\n  padding:0px 10px;\\n\"])));\n\nvar MultiMap = function MultiMap() {\n  _s();\n\n  var mapScript = document.createElement(\"script\");\n  var Lat = \"37.56906808205573\";\n  var Lng = \"126.99753930847267\";\n  mapScript.async = true;\n  mapScript.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=d2d0b5a6d50aee20c0862cdd775bc868&autoload=false\";\n  var restaurantList = useSelector(function (state) {\n    return state.restaurant.restaurantList;\n  });\n  document.head.appendChild(mapScript);\n\n  var onLoadKakaoMap = function onLoadKakaoMap() {\n    window.kakao.maps.load(function () {\n      var positions = restaurantList === null || restaurantList === void 0 ? void 0 : restaurantList.map(function (e) {\n        return {\n          title: e.name,\n          latlng: new kakao.maps.LatLng(e.lat, e.lng)\n        };\n      });\n      console.log(positions, '!!!!!!!!!');\n      var mapContainer = document.getElementById(\"map\");\n      var mapOption = {\n        center: new window.kakao.maps.LatLng(Lat, Lng),\n        // 지도의 중심좌표\n        level: 4 // 지도의 확대 레벨\n\n      };\n      var map = new window.kakao.maps.Map(mapContainer, mapOption);\n      var mapTypeControl = new window.kakao.maps.MapTypeControl(); // 지도에 컨트롤을 추가해야 지도위에 표시됩니다\n      // kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다\n\n      map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT); // 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다\n\n      var zoomControl = new window.kakao.maps.ZoomControl();\n      map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);\n      positions === null || positions === void 0 ? void 0 : positions.map(function (e) {\n        // 마커가 표시될 위치입니다\n        var markerPosition = new window.kakao.maps.LatLng(e.lat, e.lng);\n        var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png\";\n        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize); // 마커를 생성합니다\n\n        var marker = new kakao.maps.Marker({\n          map: map,\n          // 마커를 표시할 지도\n          position: e.latlng,\n          // 마커를 표시할 위치\n          title: e.title,\n          // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다\n          image: markerImage // 마커 이미지\n\n        }); // 마커에 클릭이벤트를 등록합니다\n\n        kakao.maps.event.addListener(marker, 'click', function () {\n          navigator.geolocation.getCurrentPosition(function (position) {\n            window.open(\"https://map.kakao.com/link/from/\\uB0B4\\uC704\\uCE58,\".concat(position.coords.latitude, \",\").concat(position.coords.longitude, \"/to/\").concat(name, \",\").concat(e.lat, \",\").concat(e.lng));\n          }); // 마커가 지도 위에 표시되도록 설정합니다\n\n          marker.setMap(map); //`<StyledInfo  style=\"width:100%; padding:5px;\">길 찾기</StyledInfo>`\n          // const iwContent = StyledInfo;\n\n          var iwPosition = new kakao.maps.LatLng(e.lat, e.lng); //인포윈도우 표시 위치입니다\n          // 인포윈도우를 생성합니다\n\n          var infowindow = new kakao.maps.InfoWindow({\n            position: iwPosition,\n            content: '<span class=\"info-title\" style=\"    display: block;\\n' + '    background: #50627F;\\n' + '    color: #fff;\\n' + '    text-align: center;\\n' + '    height: 24px;\\n' + '    line-height:22px;\\n' + '    border-radius:4px;\\n' + '    padding:0px 10px;\">길찾기</span>'\n          });\n          kakao.maps.event.addListener(map, 'tilesloaded', function () {\n            var infoTitle = document.querySelectorAll('.info-title');\n            infoTitle.forEach(function (e) {\n              var w = e.offsetWidth + 10;\n              var ml = w / 2;\n              e.parentElement.style.top = \"82px\";\n              e.parentElement.style.left = \"50%\";\n              e.parentElement.style.marginLeft = -ml + \"px\";\n              e.parentElement.style.width = w + \"px\";\n              e.parentElement.previousSibling.style.display = \"none\";\n              e.parentElement.parentElement.style.border = \"0px\";\n              e.parentElement.parentElement.style.background = \"unset\";\n            });\n          });\n          infowindow.open(map, marker);\n        });\n      });\n    });\n  };\n\n  mapScript.addEventListener(\"load\", onLoadKakaoMap);\n  return __jsx(StyledMap, {\n    id: \"map\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 12\n    }\n  });\n};\n\n_s(MultiMap, \"oXcds11OWPXSXjivIvbKwYzfwks=\", false, function () {\n  return [useSelector];\n});\n\n_c2 = MultiMap;\nexport default MultiMap;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledMap\");\n$RefreshReg$(_c2, \"MultiMap\");","map":{"version":3,"sources":["/Users/bccard/Desktop/bccard-intern/client/components/MultiMap.js"],"names":["React","useEffect","styled","useSelector","StyledMap","div","StyledInfo","span","MultiMap","mapScript","document","createElement","Lat","Lng","async","src","restaurantList","state","restaurant","head","appendChild","onLoadKakaoMap","window","kakao","maps","load","positions","map","e","title","name","latlng","LatLng","lat","lng","console","log","mapContainer","getElementById","mapOption","center","level","Map","mapTypeControl","MapTypeControl","addControl","ControlPosition","TOPRIGHT","zoomControl","ZoomControl","RIGHT","markerPosition","imageSrc","markerImage","MarkerImage","imageSize","marker","Marker","position","image","event","addListener","navigator","geolocation","getCurrentPosition","open","coords","latitude","longitude","setMap","iwPosition","infowindow","InfoWindow","content","infoTitle","querySelectorAll","forEach","w","offsetWidth","ml","parentElement","style","top","left","marginLeft","width","previousSibling","display","border","background","addEventListener"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AAEA,IAAMC,SAAS,GAAGF,MAAM,CAACG,GAAV,+JAAf;KAAMD,S;AAON,IAAME,UAAU,GAAGJ,MAAM,CAACK,IAAV,4OAAhB;;AAWA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AACnB,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAlB;AACA,MAAMC,GAAG,GAAG,mBAAZ;AACA,MAAMC,GAAG,GAAG,oBAAZ;AACAJ,EAAAA,SAAS,CAACK,KAAV,GAAkB,IAAlB;AACAL,EAAAA,SAAS,CAACM,GAAV;AACA,MAAMC,cAAc,GAAGb,WAAW,CAAC,UAAAc,KAAK;AAAA,WAAIA,KAAK,CAACC,UAAN,CAAiBF,cAArB;AAAA,GAAN,CAAlC;AAEAN,EAAAA,QAAQ,CAACS,IAAT,CAAcC,WAAd,CAA0BX,SAA1B;;AAEA,MAAMY,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzBC,IAAAA,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBC,IAAlB,CAAuB,YAAM;AAEzB,UAAMC,SAAS,GAAGV,cAAH,aAAGA,cAAH,uBAAGA,cAAc,CAAEW,GAAhB,CAAoB,UAAAC,CAAC,EAAI;AACvC,eAAO;AAACC,UAAAA,KAAK,EAAED,CAAC,CAACE,IAAV;AAAgBC,UAAAA,MAAM,EAAC,IAAIR,KAAK,CAACC,IAAN,CAAWQ,MAAf,CAAsBJ,CAAC,CAACK,GAAxB,EAA6BL,CAAC,CAACM,GAA/B;AAAvB,SAAP;AACH,OAFiB,CAAlB;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,SAAZ,EAAsB,WAAtB;AACA,UAAMW,YAAY,GAAG3B,QAAQ,CAAC4B,cAAT,CAAwB,KAAxB,CAArB;AACA,UAAMC,SAAS,GAAG;AACdC,QAAAA,MAAM,EAAE,IAAIlB,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBQ,MAAtB,CAA6BpB,GAA7B,EAAkCC,GAAlC,CADM;AACkC;AAChD4B,QAAAA,KAAK,EAAE,CAFO,CAEJ;;AAFI,OAAlB;AAIA,UAAMd,GAAG,GAAG,IAAIL,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBkB,GAAtB,CAA0BL,YAA1B,EAAwCE,SAAxC,CAAZ;AACA,UAAMI,cAAc,GAAG,IAAIrB,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBoB,cAAtB,EAAvB,CAZyB,CAczB;AACA;;AACAjB,MAAAA,GAAG,CAACkB,UAAJ,CAAeF,cAAf,EAA+BpB,KAAK,CAACC,IAAN,CAAWsB,eAAX,CAA2BC,QAA1D,EAhByB,CAkBzB;;AACA,UAAMC,WAAW,GAAG,IAAI1B,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkByB,WAAtB,EAApB;AACAtB,MAAAA,GAAG,CAACkB,UAAJ,CAAeG,WAAf,EAA4BzB,KAAK,CAACC,IAAN,CAAWsB,eAAX,CAA2BI,KAAvD;AAEAxB,MAAAA,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEC,GAAX,CAAe,UAACC,CAAD,EAAM;AAEjB;AACA,YAAMuB,cAAc,GAAG,IAAI7B,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBQ,MAAtB,CAA6BJ,CAAC,CAACK,GAA/B,EAAoCL,CAAC,CAACM,GAAtC,CAAvB;AACA,YAAIkB,QAAQ,GAAG,yEAAf;AACA,YAAIC,WAAW,GAAG,IAAI9B,KAAK,CAACC,IAAN,CAAW8B,WAAf,CAA2BF,QAA3B,EAAqCG,SAArC,CAAlB,CALiB,CAOjB;;AACA,YAAIC,MAAM,GAAG,IAAIjC,KAAK,CAACC,IAAN,CAAWiC,MAAf,CAAsB;AAC/B9B,UAAAA,GAAG,EAAEA,GAD0B;AACrB;AACV+B,UAAAA,QAAQ,EAAE9B,CAAC,CAACG,MAFmB;AAEX;AACpBF,UAAAA,KAAK,EAAGD,CAAC,CAACC,KAHqB;AAGd;AACjB8B,UAAAA,KAAK,EAAGN,WAJuB,CAIX;;AAJW,SAAtB,CAAb,CARiB,CAejB;;AACA9B,QAAAA,KAAK,CAACC,IAAN,CAAWoC,KAAX,CAAiBC,WAAjB,CAA6BL,MAA7B,EAAqC,OAArC,EAA8C,YAAW;AACrDM,UAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACI,UAASN,QAAT,EAAmB;AACfpC,YAAAA,MAAM,CAAC2C,IAAP,8DAAmDP,QAAQ,CAACQ,MAAT,CAAgBC,QAAnE,cAA+ET,QAAQ,CAACQ,MAAT,CAAgBE,SAA/F,iBAA+GtC,IAA/G,cAAuHF,CAAC,CAACK,GAAzH,cAAgIL,CAAC,CAACM,GAAlI;AACH,WAHL,EADqD,CAOrD;;AACAsB,UAAAA,MAAM,CAACa,MAAP,CAAc1C,GAAd,EARqD,CASrD;AACA;;AACA,cAAM2C,UAAU,GAAG,IAAI/C,KAAK,CAACC,IAAN,CAAWQ,MAAf,CAAsBJ,CAAC,CAACK,GAAxB,EAA4BL,CAAC,CAACM,GAA9B,CAAnB,CAXqD,CAWE;AAEvD;;AACA,cAAMqC,UAAU,GAAG,IAAIhD,KAAK,CAACC,IAAN,CAAWgD,UAAf,CAA0B;AACzCd,YAAAA,QAAQ,EAAGY,UAD8B;AAEzCG,YAAAA,OAAO,EAAG,0DACN,4BADM,GAEN,oBAFM,GAGN,2BAHM,GAIN,qBAJM,GAKN,yBALM,GAMN,0BANM,GAON;AATqC,WAA1B,CAAnB;AAYAlD,UAAAA,KAAK,CAACC,IAAN,CAAWoC,KAAX,CAAiBC,WAAjB,CAA6BlC,GAA7B,EAAkC,aAAlC,EAAiD,YAAM;AACnD,gBAAM+C,SAAS,GAAGhE,QAAQ,CAACiE,gBAAT,CAA0B,aAA1B,CAAlB;AAEAD,YAAAA,SAAS,CAACE,OAAV,CAAkB,UAAShD,CAAT,EAAY;AAC1B,kBAAMiD,CAAC,GAAGjD,CAAC,CAACkD,WAAF,GAAgB,EAA1B;AACA,kBAAMC,EAAE,GAAGF,CAAC,GAAC,CAAb;AACAjD,cAAAA,CAAC,CAACoD,aAAF,CAAgBC,KAAhB,CAAsBC,GAAtB,GAA4B,MAA5B;AACAtD,cAAAA,CAAC,CAACoD,aAAF,CAAgBC,KAAhB,CAAsBE,IAAtB,GAA6B,KAA7B;AACAvD,cAAAA,CAAC,CAACoD,aAAF,CAAgBC,KAAhB,CAAsBG,UAAtB,GAAmC,CAACL,EAAD,GAAI,IAAvC;AACAnD,cAAAA,CAAC,CAACoD,aAAF,CAAgBC,KAAhB,CAAsBI,KAAtB,GAA8BR,CAAC,GAAC,IAAhC;AACAjD,cAAAA,CAAC,CAACoD,aAAF,CAAgBM,eAAhB,CAAgCL,KAAhC,CAAsCM,OAAtC,GAAgD,MAAhD;AACA3D,cAAAA,CAAC,CAACoD,aAAF,CAAgBA,aAAhB,CAA8BC,KAA9B,CAAoCO,MAApC,GAA6C,KAA7C;AACA5D,cAAAA,CAAC,CAACoD,aAAF,CAAgBA,aAAhB,CAA8BC,KAA9B,CAAoCQ,UAApC,GAAiD,OAAjD;AACH,aAVD;AAWH,WAdD;AAgBAlB,UAAAA,UAAU,CAACN,IAAX,CAAgBtC,GAAhB,EAAqB6B,MAArB;AACH,SA3CD;AA4CH,OA5DD;AA6DH,KAnFD;AAqFH,GAtFD;;AAwFA/C,EAAAA,SAAS,CAACiF,gBAAV,CAA2B,MAA3B,EAAmCrE,cAAnC;AAGA,SAAO,MAAC,SAAD;AAAW,IAAA,EAAE,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAtGD;;GAAMb,Q;UAMqBL,W;;;MANrBK,Q;AAwGN,eAAeA,QAAf","sourcesContent":["import React, {useEffect} from \"react\";\nimport styled from \"styled-components\";\nimport {useSelector} from \"react-redux\";\n\nconst StyledMap = styled.div`\n  display: block;\n  position: inherit;\n  height: 500px; \n  border: black 2px solid;\n`;\n\nconst StyledInfo = styled.span`\n  display: block;\n  background: #50627F;\n  color: #fff;\n  text-align: center;\n  height: 24px;\n  line-height:22px;\n  border-radius:4px;\n  padding:0px 10px;\n`;\n\nconst MultiMap = () => {\n    const mapScript = document.createElement(\"script\");\n    const Lat = \"37.56906808205573\";\n    const Lng = \"126.99753930847267\";\n    mapScript.async = true;\n    mapScript.src = `//dapi.kakao.com/v2/maps/sdk.js?appkey=d2d0b5a6d50aee20c0862cdd775bc868&autoload=false`;\n    const restaurantList = useSelector(state => state.restaurant.restaurantList);\n\n    document.head.appendChild(mapScript);\n\n    const onLoadKakaoMap = () => {\n        window.kakao.maps.load(() => {\n\n            const positions = restaurantList?.map(e => {\n                return {title: e.name, latlng:new kakao.maps.LatLng(e.lat, e.lng)}\n            })\n            console.log(positions,'!!!!!!!!!');\n            const mapContainer = document.getElementById(\"map\");\n            const mapOption = {\n                center: new window.kakao.maps.LatLng(Lat, Lng), // 지도의 중심좌표\n                level: 4, // 지도의 확대 레벨\n            };\n            const map = new window.kakao.maps.Map(mapContainer, mapOption);\n            const mapTypeControl = new window.kakao.maps.MapTypeControl();\n\n            // 지도에 컨트롤을 추가해야 지도위에 표시됩니다\n            // kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다\n            map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);\n\n            // 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다\n            const zoomControl = new window.kakao.maps.ZoomControl();\n            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);\n\n            positions?.map((e)=> {\n\n                // 마커가 표시될 위치입니다\n                const markerPosition = new window.kakao.maps.LatLng(e.lat, e.lng);\n                var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png\";\n                var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\n\n                // 마커를 생성합니다\n                var marker = new kakao.maps.Marker({\n                    map: map, // 마커를 표시할 지도\n                    position: e.latlng, // 마커를 표시할 위치\n                    title : e.title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다\n                    image : markerImage // 마커 이미지\n                });\n\n                // 마커에 클릭이벤트를 등록합니다\n                kakao.maps.event.addListener(marker, 'click', function() {\n                    navigator.geolocation.getCurrentPosition(\n                        function(position) {\n                            window.open(`https://map.kakao.com/link/from/내위치,${position.coords.latitude},${position.coords.longitude}/to/${name},${e.lat},${e.lng}`);\n                        },\n                    );\n\n                    // 마커가 지도 위에 표시되도록 설정합니다\n                    marker.setMap(map);\n                    //`<StyledInfo  style=\"width:100%; padding:5px;\">길 찾기</StyledInfo>`\n                    // const iwContent = StyledInfo;\n                    const iwPosition = new kakao.maps.LatLng(e.lat,e.lng); //인포윈도우 표시 위치입니다\n\n                    // 인포윈도우를 생성합니다\n                    const infowindow = new kakao.maps.InfoWindow({\n                        position : iwPosition,\n                        content : '<span class=\"info-title\" style=\"    display: block;\\n' +\n                            '    background: #50627F;\\n' +\n                            '    color: #fff;\\n' +\n                            '    text-align: center;\\n' +\n                            '    height: 24px;\\n' +\n                            '    line-height:22px;\\n' +\n                            '    border-radius:4px;\\n' +\n                            '    padding:0px 10px;\">길찾기</span>'\n                    });\n\n                    kakao.maps.event.addListener(map, 'tilesloaded', () => {\n                        const infoTitle = document.querySelectorAll('.info-title');\n\n                        infoTitle.forEach(function(e) {\n                            const w = e.offsetWidth + 10;\n                            const ml = w/2;\n                            e.parentElement.style.top = \"82px\";\n                            e.parentElement.style.left = \"50%\";\n                            e.parentElement.style.marginLeft = -ml+\"px\";\n                            e.parentElement.style.width = w+\"px\";\n                            e.parentElement.previousSibling.style.display = \"none\";\n                            e.parentElement.parentElement.style.border = \"0px\";\n                            e.parentElement.parentElement.style.background = \"unset\";\n                        });\n                    });\n\n                    infowindow.open(map, marker);\n                });\n            });\n        });\n\n    };\n\n    mapScript.addEventListener(\"load\", onLoadKakaoMap);\n\n\n    return <StyledMap id=\"map\"/>\n};\n\nexport default MultiMap;"]},"metadata":{},"sourceType":"module"}