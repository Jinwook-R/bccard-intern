{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _this = this,\n    _jsxFileName = \"/Users/jin/Desktop/bi/client/components/Map.js\";\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nvar StyledMap = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: block;\\n  position: inherit;\\n  height: 500px;\\n  width: 500px; \\n  border: black 2px solid;\\n\"])));\n_c = StyledMap;\nvar StyledInfo = styled.span(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: block;\\n  background: #50627F;\\n  color: #fff;\\n  text-align: center;\\n  height: 24px;\\n  line-height:22px;\\n  border-radius:4px;\\n  padding:0px 10px;\\n\"])));\n\nvar Map = function Map(_ref) {\n  var lat = _ref.lat,\n      lng = _ref.lng;\n  var mapScript = document.createElement(\"script\");\n  var Lat = lat ? lat : \"37.39818534663808\";\n  var Lng = lng ? lng : \"127.11341614517751\";\n  mapScript.async = true;\n  mapScript.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=d2d0b5a6d50aee20c0862cdd775bc868&autoload=false\";\n  document.head.appendChild(mapScript);\n\n  var onLoadKakaoMap = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var infoTitle;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return window.kakao.maps.load(function () {\n                var mapContainer = document.getElementById(\"map\");\n                var mapOption = {\n                  center: new window.kakao.maps.LatLng(Lat, Lng),\n                  // 지도의 중심좌표\n                  level: 4 // 지도의 확대 레벨\n\n                };\n                var map = new window.kakao.maps.Map(mapContainer, mapOption);\n                var mapTypeControl = new window.kakao.maps.MapTypeControl(); // 지도에 컨트롤을 추가해야 지도위에 표시됩니다\n                // kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다\n\n                map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT); // 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다\n\n                var zoomControl = new window.kakao.maps.ZoomControl();\n                map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT); // 마커가 표시될 위치입니다\n\n                var markerPosition = new window.kakao.maps.LatLng(Lat, Lng); // 마커를 생성합니다\n\n                var marker = new window.kakao.maps.Marker({\n                  position: markerPosition\n                }); // 마커에 클릭이벤트를 등록합니다\n\n                kakao.maps.event.addListener(marker, 'click', function () {\n                  navigator.geolocation.getCurrentPosition(function (position) {\n                    window.open(\"https://map.kakao.com/link/from/\\uB0B4\\uC704\\uCE58,\".concat(position.coords.latitude, \",\").concat(position.coords.longitude, \"/to/\\uC0AC\\uB791\\uBC29\\uCE7C\\uAD6D\\uC218,\").concat(lat, \",\").concat(lng));\n                  });\n                }); // 마커가 지도 위에 표시되도록 설정합니다\n\n                marker.setMap(map); //`<StyledInfo  style=\"width:100%; padding:5px;\">길 찾기</StyledInfo>`\n\n                var iwContent = StyledInfo;\n                var iwPosition = new kakao.maps.LatLng(lat, lng); //인포윈도우 표시 위치입니다\n                // 인포윈도우를 생성합니다\n\n                var infowindow = new kakao.maps.InfoWindow({\n                  position: iwPosition,\n                  content: iwContent\n                });\n                infowindow.open(map, marker);\n              });\n\n            case 2:\n              infoTitle = document.querySelectorAll('.infoTitle');\n              infoTitle.forEach(function (e) {\n                var w = e.offsetWidth + 10;\n                var ml = w / 2;\n                e.parentElement.style.top = \"82px\";\n                e.parentElement.style.left = \"50%\";\n                e.parentElement.style.marginLeft = -ml + \"px\";\n                e.parentElement.style.width = w + \"px\";\n                e.parentElement.previousSibling.style.display = \"none\";\n                e.parentElement.parentElement.style.border = \"0px\";\n                e.parentElement.parentElement.style.background = \"unset\";\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoadKakaoMap() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  mapScript.addEventListener(\"load\", onLoadKakaoMap);\n  return __jsx(StyledMap, {\n    id: \"map\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }\n  });\n};\n\n_c2 = Map;\nexport default Map;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledMap\");\n$RefreshReg$(_c2, \"Map\");","map":{"version":3,"sources":["/Users/jin/Desktop/bi/client/components/Map.js"],"names":["React","useEffect","styled","StyledMap","div","StyledInfo","span","Map","lat","lng","mapScript","document","createElement","Lat","Lng","async","src","head","appendChild","onLoadKakaoMap","window","kakao","maps","load","mapContainer","getElementById","mapOption","center","LatLng","level","map","mapTypeControl","MapTypeControl","addControl","ControlPosition","TOPRIGHT","zoomControl","ZoomControl","RIGHT","markerPosition","marker","Marker","position","event","addListener","navigator","geolocation","getCurrentPosition","open","coords","latitude","longitude","setMap","iwContent","iwPosition","infowindow","InfoWindow","content","infoTitle","querySelectorAll","forEach","e","w","offsetWidth","ml","parentElement","style","top","left","marginLeft","width","previousSibling","display","border","background","addEventListener"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledMap = styled.div`\n  display: block;\n  position: inherit;\n  height: 500px;\n  width: 500px; \n  border: black 2px solid;\n`;\n\nconst StyledInfo = styled.span`\n  display: block;\n  background: #50627F;\n  color: #fff;\n  text-align: center;\n  height: 24px;\n  line-height:22px;\n  border-radius:4px;\n  padding:0px 10px;\n`;\n\nconst Map = ({lat,lng}) => {\n    const mapScript = document.createElement(\"script\");\n    const Lat = lat ? lat: \"37.39818534663808\";\n    const Lng = lng ? lng: \"127.11341614517751\"\n    mapScript.async = true;\n    mapScript.src = `//dapi.kakao.com/v2/maps/sdk.js?appkey=d2d0b5a6d50aee20c0862cdd775bc868&autoload=false`;\n    document.head.appendChild(mapScript);\n\n    const onLoadKakaoMap = async () => {\n        await window.kakao.maps.load(() => {\n            const mapContainer = document.getElementById(\"map\");\n            const mapOption = {\n                center: new window.kakao.maps.LatLng(Lat, Lng), // 지도의 중심좌표\n                level: 4, // 지도의 확대 레벨\n            };\n            const map = new window.kakao.maps.Map(mapContainer, mapOption);\n            const mapTypeControl = new window.kakao.maps.MapTypeControl();\n\n            // 지도에 컨트롤을 추가해야 지도위에 표시됩니다\n            // kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다\n            map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);\n\n            // 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다\n            const zoomControl = new window.kakao.maps.ZoomControl();\n            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);\n\n            // 마커가 표시될 위치입니다\n            const markerPosition = new window.kakao.maps.LatLng(Lat, Lng);\n\n            // 마커를 생성합니다\n            const marker = new window.kakao.maps.Marker({\n                position: markerPosition,\n            });\n            // 마커에 클릭이벤트를 등록합니다\n            kakao.maps.event.addListener(marker, 'click', function() {\n                navigator.geolocation.getCurrentPosition(\n                    function(position) {\n                        window.open(`https://map.kakao.com/link/from/내위치,${position.coords.latitude},${position.coords.longitude}/to/사랑방칼국수,${lat},${lng}`);\n                    },\n                );\n            });\n\n            // 마커가 지도 위에 표시되도록 설정합니다\n            marker.setMap(map);\n            //`<StyledInfo  style=\"width:100%; padding:5px;\">길 찾기</StyledInfo>`\n            const iwContent = StyledInfo;\n            const iwPosition = new kakao.maps.LatLng(lat, lng); //인포윈도우 표시 위치입니다\n\n\n            // 인포윈도우를 생성합니다\n            const infowindow = new kakao.maps.InfoWindow({\n                position : iwPosition,\n                content : iwContent\n            });\n\n\n            infowindow.open(map, marker);\n        });\n\n        const infoTitle = document.querySelectorAll('.infoTitle');\n        infoTitle.forEach(function(e) {\n            const w = e.offsetWidth + 10;\n            const ml = w/2;\n            e.parentElement.style.top = \"82px\";\n            e.parentElement.style.left = \"50%\";\n            e.parentElement.style.marginLeft = -ml+\"px\";\n            e.parentElement.style.width = w+\"px\";\n            e.parentElement.previousSibling.style.display = \"none\";\n            e.parentElement.parentElement.style.border = \"0px\";\n            e.parentElement.parentElement.style.background = \"unset\";\n        });\n\n    };\n    mapScript.addEventListener(\"load\", onLoadKakaoMap);\n\n    return <StyledMap id=\"map\"/>\n};\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}