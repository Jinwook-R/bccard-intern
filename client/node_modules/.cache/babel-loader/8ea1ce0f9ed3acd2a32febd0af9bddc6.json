{"ast":null,"code":"// import { API_BASE_URL } from \"../app-config\";\nconst API_BASE_URL = \"localhost\";\nexport function call(api, method, request) {\n  let options = {\n    headers: new Headers({\n      \"Content-Type\": \"application/json\"\n    }),\n    url: API_BASE_URL + api,\n    method: method\n  };\n\n  if (request) {\n    // GET method\n    options.body = JSON.stringify(request);\n  }\n\n  return fetch(options.url, options).then(response => response.json().then(json => {\n    if (!response.ok) {\n      // response.ok가 true이면 정상적인 리스폰스를 받은것, 아니면 에러 리스폰스를 받은것.\n      return Promise.reject(json);\n    }\n\n    return json;\n  })).catch(error => {\n    // 추가된 부분\n    console.log(error.status);\n\n    if (error.status === 403) {\n      window.location.href = \"/login\"; // redirect\n    }\n\n    return Promise.reject(error);\n  });\n}\nexport function signin(userDTO) {\n  window.location.href = \"/\";\n}","map":{"version":3,"sources":["/Users/bccard/Desktop/bccard-intern/client/src/api/ApiService.js"],"names":["API_BASE_URL","call","api","method","request","options","headers","Headers","url","body","JSON","stringify","fetch","then","response","json","ok","Promise","reject","catch","error","console","log","status","window","location","href","signin","userDTO"],"mappings":"AAAA;AAEA,MAAMA,YAAY,GAAG,WAArB;AAEA,OAAO,SAASC,IAAT,CAAcC,GAAd,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoC;AACvC,MAAIC,OAAO,GAAG;AACVC,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,sBAAgB;AADC,KAAZ,CADC;AAIVC,IAAAA,GAAG,EAAER,YAAY,GAAGE,GAJV;AAKVC,IAAAA,MAAM,EAAEA;AALE,GAAd;;AAOA,MAAIC,OAAJ,EAAa;AACT;AACAC,IAAAA,OAAO,CAACI,IAAR,GAAeC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAAf;AACH;;AACD,SAAOQ,KAAK,CAACP,OAAO,CAACG,GAAT,EAAcH,OAAd,CAAL,CACFQ,IADE,CACIC,QAAD,IACFA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAsBE,IAAD,IAAU;AAC3B,QAAI,CAACD,QAAQ,CAACE,EAAd,EAAkB;AACd;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeH,IAAf,CAAP;AACH;;AACD,WAAOA,IAAP;AACH,GAND,CAFD,EAUFI,KAVE,CAUKC,KAAD,IAAW;AACd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAlB;;AACA,QAAIH,KAAK,CAACG,MAAN,KAAiB,GAArB,EAA0B;AACtBC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB,CADsB,CACW;AACpC;;AACD,WAAOT,OAAO,CAACC,MAAR,CAAeE,KAAf,CAAP;AACH,GAjBE,CAAP;AAkBH;AAED,OAAO,SAASO,MAAT,CAAgBC,OAAhB,EAAyB;AAC5BJ,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH","sourcesContent":["// import { API_BASE_URL } from \"../app-config\";\n\nconst API_BASE_URL = \"localhost\"\n\nexport function call(api, method, request) {\n    let options = {\n        headers: new Headers({\n            \"Content-Type\": \"application/json\",\n        }),\n        url: API_BASE_URL + api,\n        method: method,\n    };\n    if (request) {\n        // GET method\n        options.body = JSON.stringify(request);\n    }\n    return fetch(options.url, options)\n        .then((response) =>\n            response.json().then((json) => {\n                if (!response.ok) {\n                    // response.ok가 true이면 정상적인 리스폰스를 받은것, 아니면 에러 리스폰스를 받은것.\n                    return Promise.reject(json);\n                }\n                return json;\n            })\n        )\n        .catch((error) => {\n            // 추가된 부분\n            console.log(error.status);\n            if (error.status === 403) {\n                window.location.href = \"/login\"; // redirect\n            }\n            return Promise.reject(error);\n        });\n}\n\nexport function signin(userDTO) {\n    window.location.href = \"/\";\n}"]},"metadata":{},"sourceType":"module"}